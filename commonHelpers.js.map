{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst input = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\n\nconst days = document.querySelector('span[data-days]');\nconst hours = document.querySelector('span[data-hours]');\nconst minutes = document.querySelector('span[data-minutes]');\nconst seconds = document.querySelector('span[data-seconds]');\n\nlet userSelectedDate;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    const selectedDate = selectedDates[0];\n\n    if (selectedDate >= Date.now()) {\n      userSelectedDate = selectedDate;\n      startBtn.removeAttribute('disabled');\n      console.log(userSelectedDate);\n    } else {\n      userSelectedDate = null;\n      startBtn.setAttribute('disabled', true);\n      iziToast.error({\n        message: 'Please choose a date in the future',\n        messageColor: 'white',\n        backgroundColor: '#EF4040',\n        position: 'topRight',\n        timeout: 3000,\n        titleColor: 'white',\n      });\n    }\n  },\n};\nflatpickr(input, options);\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nfunction padTime(value) {\n  return value.toString().padStart(2, '0');\n}\n\nfunction updateTimer() {\n  if (!userSelectedDate) return;\n\n  const currentTime = new Date();\n  const timeDifference = userSelectedDate - currentTime;\n\n  if (timeDifference <= 0) {\n    // Timer reached the selected date\n    clearInterval(timerInterval);\n    return;\n  }\n\n  const {\n    days: daysLeft,\n    hours: hoursLeft,\n    minutes: minutesLeft,\n    seconds: secondsLeft,\n  } = convertMs(timeDifference);\n\n  days.textContent = padTime(daysLeft);\n  hours.textContent = padTime(hoursLeft);\n  minutes.textContent = padTime(minutesLeft);\n  seconds.textContent = padTime(secondsLeft);\n}\n\nlet timerInterval;\n\nstartBtn.addEventListener('click', () => {\n  timerInterval = setInterval(updateTimer, 1000);\n});\n"],"names":["input","startBtn","days","hours","minutes","seconds","userSelectedDate","options","selectedDates","selectedDate","iziToast","flatpickr","convertMs","ms","padTime","value","updateTimer","timeDifference","timerInterval","daysLeft","hoursLeft","minutesLeft","secondsLeft"],"mappings":"sGAMA,MAAMA,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAW,SAAS,cAAc,oBAAoB,EAEtDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAE3D,IAAIC,EAEJ,MAAMC,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EAEhCC,GAAgB,KAAK,OACvBH,EAAmBG,EACnBR,EAAS,gBAAgB,UAAU,EACnC,QAAQ,IAAIK,CAAgB,IAE5BA,EAAmB,KACnBL,EAAS,aAAa,WAAY,EAAI,EACtCS,EAAS,MAAM,CACb,QAAS,qCACT,aAAc,QACd,gBAAiB,UACjB,SAAU,WACV,QAAS,IACT,WAAY,OACpB,CAAO,EAEJ,CACH,EACAC,EAAUX,EAAOO,CAAO,EAExB,SAASK,EAAUC,EAAI,CAQrB,MAAMX,EAAO,KAAK,MAAMW,EAAK,KAAG,EAE1BV,EAAQ,KAAK,MAAOU,EAAK,MAAO,IAAI,EAEpCT,EAAU,KAAK,MAAQS,EAAK,MAAO,KAAQ,GAAM,EAEjDR,EAAU,KAAK,MAASQ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAX,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,SAASS,EAAQC,EAAO,CACtB,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CAEA,SAASC,GAAc,CACrB,GAAI,CAACV,EAAkB,OAGvB,MAAMW,EAAiBX,EADH,IAAI,KAGxB,GAAIW,GAAkB,EAAG,CAEvB,cAAcC,CAAa,EAC3B,MACD,CAED,KAAM,CACJ,KAAMC,EACN,MAAOC,EACP,QAASC,EACT,QAASC,CACb,EAAMV,EAAUK,CAAc,EAE5Bf,EAAK,YAAcY,EAAQK,CAAQ,EACnChB,EAAM,YAAcW,EAAQM,CAAS,EACrChB,EAAQ,YAAcU,EAAQO,CAAW,EACzChB,EAAQ,YAAcS,EAAQQ,CAAW,CAC3C,CAEA,IAAIJ,EAEJjB,EAAS,iBAAiB,QAAS,IAAM,CACvCiB,EAAgB,YAAYF,EAAa,GAAI,CAC/C,CAAC"}